<div class="contact-popup active" *ngIf="page == 'signup1'">
  <div class="popup-content">
    <div class="contact-title">
      <div class="row">
        <div class="col">
          <div class="login-icon">
            <img src="/assets/Images/icons/icon-register.png" />
          </div>
          <p>
            {{ 'LOGIN.register1' | translate }}
          </p>
        </div>
        <div class="col d-flex justify-content-end">
          <ul>
            <li class="th" (click)="switchlang('th')" [ngClass]="{'current': langth}">
              <a title="Thai">Thai</a>
            </li>
            <li class="en" (click)="switchlang('en')" [ngClass]="{'current': langen}">
              <a title="Eng">Eng</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="contact-form-wrapper">
      <form [formGroup]="form">
        <div class="row">
          <div class="col-lg-3 form-group" [ngClass]="ValidatorDisplayCss('prefix')">
            <p>{{ 'LOGIN.prefix' | translate }}
            </p>
            <div class="input-wrapper">
              <input id="prefix" name="prefix" maxlength="15" type="text" formControlName="prefix">
            </div>
          </div>
          <div class="col-lg-4 form-group" [ngClass]="ValidatorDisplayCss('firstname')">
            <p>{{ 'LOGIN.firstname' | translate }}
            </p>
            <div class="input-wrapper">
              <input id="firstname" name="firstname" maxlength="50" type="text" formControlName="firstname" required>
              <div class="form-control-feedback" *ngIf="this.form.controls.firstname.errors && ( this.form.controls.firstname.touched)">
                <p *ngIf="this.form.controls.firstname.errors.required">{{ 'Validation.required' | translate }}</p>
                <p *ngIf="this.form.controls.firstname.errors.pattern">{{ 'Validation.incorrect' | translate }}</p>
                <p *ngIf="checkFirstname">รูปแบบของข้อมูลไม่ถูกต้อง</p>
              </div>
            </div>

          </div>
          <div class="col-lg-5 form-group" [ngClass]="ValidatorDisplayCss('lastname')">
            <p>{{ 'LOGIN.lastname' | translate }}
            </p>
            <div class="input-wrapper ">
              <input id="lastname" name="lastname" maxlength="120" type="text" formControlName="lastname" required>
              <div class="form-control-feedback" *ngIf="this.form.controls.lastname.errors && ( this.form.controls.lastname.touched)">
                <p *ngIf="this.form.controls.lastname.errors.required">{{ 'Validation.required' | translate }}</p>
                <p *ngIf="this.form.controls.lastname.errors.pattern">{{ 'Validation.incorrect' | translate }}</p>

              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-lg-7 form-group" [ngClass]="ValidatorDisplayCss('IDcard')">
            <p>{{ 'LOGIN.id-password' | translate }}
            </p>
            <div class="input-wrapper ">
              <input id="IDcard" name="IDcard" maxlength="13" type="text" formControlName="IDcard" required>
              <div class="form-control-feedback" *ngIf="this.form.controls.IDcard.errors && ( this.form.controls.IDcard.touched)">
                <p *ngIf="this.form.controls.IDcard.errors.required || this.form.controls.IDcard.errors?.minlength">{{ 'Validation.required' | translate }}</p>
              </div>
            </div>
          </div>
          <div class="col-lg-5 form-group" [ngClass]="ValidatorDisplayCss('tel')">
            <p>{{ 'LOGIN.tel' | translate }}
            </p>
            <div class="input-wrapper ">
              <input id="tel" name="tel" maxlength="10" type="text" formControlName="tel" required (keypress)="numberOnly($event)">
              <div class="form-control-feedback" *ngIf="this.form.controls.tel.errors && ( this.form.controls.tel.touched)">
                <p *ngIf="this.form.controls.tel.errors.required || this.form.controls.tel.errors?.minlength">{{ 'Validation.required' | translate }}</p>
                <p *ngIf="this.form.controls.tel.errors.pattern">{{ 'Validation.incorrect' | translate }}</p>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-lg-6 col-12 form-group" [ngClass]="ValidatorDisplayCss('email')">
            <p>{{ 'LOGIN.email' | translate }}
            </p>
            <div class="input-wrapper ">
              <input id="email" name="email" maxlength="100" type="text" formControlName="email" required>
              <div class="form-control-feedback" *ngIf="this.form.controls.email.errors && ( this.form.controls.email.touched)">
                <p *ngIf="this.form.controls.email.errors.required">{{ 'Validation.required' | translate }}</p>
                <p *ngIf="this.form.controls.email.errors.pattern">{{ 'Validation.incorrect' | translate }}</p>
              </div>
            </div>
          </div>
          <div class="col-xl-6 col-12 form-group" id="recaptcha2" [ngClass]="ValidatorDisplayCss('recaptcha')">
            <ngx-recaptcha2 #captchaElem [size]="size" [hl]="lang" [theme]="theme" [type]="type" 
              formControlName="recaptcha">
            </ngx-recaptcha2>
            <div class="form-control-feedback" *ngIf="this.form.controls.recaptcha.errors && ( this.form.controls.recaptcha.touched)">
              <p *ngIf="this.form.controls.recaptcha.errors.required">{{ 'Validation.required' | translate }}</p>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="btn-wrapper-left">
              <div class="row">
                <div class="col-xl-6 col-12">
                  <button class="btn-med btn-back-login" type="button" (click)="navigate('')">
                    <p>
                      {{ 'BUTTON.back' | translate }}
                      <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </p>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-6">
            <div class="btn-wrapper-right">
              <div class="row justify-content-end">
                <div class="col-md-12">
                  <button class="btn-med btn-confirm-login btn" type="submit" (click)="checkpage('signup2')" [disabled]="loading">
                    <p>{{ 'BUTTON.next' | translate }}
                      <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </p>
                  </button>
                </div>
              </div>

            </div>
          </div>
        </div>

      </form>
    </div>
  </div>
</div>
<div class="contact-popup active" *ngIf="page == 'signup2'">
  <div class="popup-content">
    <div class="contact-title">
      <div class="row">
        <div class="col">
          <div class="login-icon">
            <img src="/assets/Images/icons/icon-register.png" />
          </div>
          <p>
            {{ 'LOGIN.register2' | translate }}
          </p>
        </div>
        <div class="col d-flex justify-content-end">
          <ul>
            <li class="th" (click)="switchlang('th')" [ngClass]="{'current': langth}">
              <a title="Thai">Thai</a>
            </li>
            <li class="en" (click)="switchlang('en')" [ngClass]="{'current': langen}">
              <a title="Eng">Eng</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="contact-form-wrapper">
      <form [formGroup]="formstep2">
        <div class="detail-login-wrapper">
          <div class="row">
            <div class="col-sm-12 form-group" [ngClass]="ValidatorDisplayCss2('username')">
              <p>
                <p>{{ 'LOGIN.username' | translate }}
                </p>
                <div class="input-wrapper">
                  <input id="username" name="username" maxlength="15" type="text" formControlName="username">
                  <div class="form-control-feedback" *ngIf="this.formstep2.controls.username.errors && (this.formstep2.controls.username.touched)">
                    <p *ngIf="this.formstep2.controls.username.errors.required">{{ 'Validation.required' | translate }}</p>
                    <p *ngIf="this.formstep2.controls.username.errors.pattern">{{ 'Validation.username' | translate }}</p>
                  </div>
                </div>
            </div>
            <div class="col-sm-12 form-group" [ngClass]="ValidatorDisplayCss2('password')">
              <p>
                <p>{{ 'LOGIN.password' | translate }}
                  <a style="cursor: pointer;">
                    <i class="fa fa-question-circle" aria-hidden="true" placement="top" ngbTooltip="รหัสผ่านอย่างน้อย 8 ตัวอักษร ต้องประกอบด้วยข้อมูลต่อไปนี้ ตัวพิมพ์เล็ก พิมพ์ใหญ่ อักษระพิเศษ รวมทั้งตัวเลข "></i>
                  </a>
                </p>
                <div class="input-wrapper ">
                  <input id="password" name="password" maxlength="15" type="password" formControlName="password">
                  <div class="form-control-feedback" *ngIf="this.formstep2.controls.password.errors && (this.formstep2.controls.password.touched)">
                    <p *ngIf="this.formstep2.controls.password.errors.required ">{{ 'Validation.required' | translate }}</p>
                    <p *ngIf="this.formstep2.controls.password.errors.pattern">{{ 'Validation.password' | translate }}</p>
                  </div>
                </div>
            </div>
            <div class="col-sm-12 form-group" [ngClass]="ValidatorDisplayCss2('repeatPassword')">
              <p>
                <p>{{ 'LOGIN.comfirm-p' | translate }}
                  <a style="cursor: pointer;">
                    <i class="fa fa-question-circle" aria-hidden="true" placement="top" ngbTooltip="รหัสผ่านอย่างน้อย 8 ตัวอักษร ต้องประกอบด้วยข้อมูลต่อไปนี้ ตัวพิมพ์เล็ก พิมพ์ใหญ่ อักษระพิเศษ รวมทั้งตัวเลข "></i>
                  </a>
                </p>
                <div class="input-wrapper ">
                  <input id="repeatPassword" name="repeatPassword" maxlength="15" type="password" formControlName="repeatPassword">
                  <div class="form-control-feedback" *ngIf="this.formstep2.controls.repeatPassword.errors && (this.formstep2.controls.repeatPassword.touched)">
                    <p *ngIf="this.formstep2.controls.repeatPassword.errors.required">{{ 'Validation.required' | translate }}</p>
                    <p *ngIf="this.formstep2.controls.repeatPassword.errors.pattern">{{ 'Validation.password' | translate }}</p>
                    <p *ngIf="cpwd.hasError('invalid')">{{ 'Validation.samepassword' | translate }}</p>

                  </div>
                </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="btn-wrapper-left">
              <button class="btn-med btn-back-login" type="button" (click)="checkpage('signup1')">
                <p>
                  {{ 'BUTTON.back' | translate }}
                  <i class="fa fa-angle-right" aria-hidden="true"></i>
                </p>
              </button>
            </div>
          </div>

          <div class="col-md-6 ">
            <div class="btn-wrapper-left">
              <button class="btn-med btn-next-login btn" type="submit" (click)="checkpage('otp')" [disabled]="loading">
                <p>{{ 'BUTTON.signup' | translate }}
                  <i class="fa fa-angle-right" aria-hidden="true"></i>
                </p>
              </button>
            </div>
          </div>
          
        </div>
      </form>
    </div>
  </div>
</div>
<div class="contact-popup active" *ngIf="page == 'otp'">

  <div class="popup-content">
    <div class="contact-title">
      <div class="row">
        <div class="col">
          <div class="login-icon">
            <img src="/assets/Images/icons/icon-otp-white.png" />
          </div>
          <p>
            {{ 'LOGIN.otp' | translate }}
          </p>
        </div>
        <div class="col d-flex justify-content-end">
          <ul>
            <li class="th" (click)="switchlang('th')" [ngClass]="{'current': langth}">
              <a title="Thai">Thai</a>
            </li>
            <li class="en" (click)="switchlang('en')" [ngClass]="{'current': langen}">
              <a title="Eng">Eng</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="contact-form-wrapper">
      <form [formGroup]="formotp">
        <div class="row">
          <div class="col-sm-12">
            <p> {{ 'LOGIN.otp-send' | translate }}
            </p>
          </div>
        </div>
        <div class="row">
          <div class="col-md-7">
            <div class="input-wrapper">
              <input id="tel" name="tel" maxlength="30" type="text" [value]="blind" disabled>
            </div>
          </div>
          <div class="col-md-5">
            <div class="btn-wrapper">
              <button class="btn-med btn-blue btn" type="button" (click)="requestotp()" [disabled]="loading">
                {{ 'BUTTON.otp' | translate }}
                <!-- <div class="d-xl-block d-none">
                  <i class="fa fa-angle-right" aria-hidden="true"></i>
                </div> -->
              </button>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <p> {{ 'LOGIN.otp-receive' | translate }} Ref. Code {{ User.refotp }}</p>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6 form-group" [ngClass]="ValidatorDisplayCss4('otp')">
            <div class="input-wrapper">
              <input id="otp" name="otp" maxlength="6" type="password" formControlName="otp" (keypress)="numberOnly($event)">
              <div class="form-control-feedback" *ngIf="this.formotp.controls.otp.errors && ( this.formotp.controls.otp.touched)">
                <p *ngIf="this.formotp.controls.otp.errors.required">{{ 'Validation.required' | translate }}</p>

              </div>
            </div>
          </div>
        </div>
        <div class="row pb-4">
          <div class="col-md-12">
            <p>{{ 'LOGIN.otp-request' | translate }}{{ 'BUTTON.otp' | translate }}{{ 'LOGIN.otp-request2' | translate }}</p>
          </div>
        </div>

        <div class="row mt-3">
          <div class="col-md-6">
            <div class="btn-wrapper-left">
              <div class="row">
                <div class="col-md-10">
                  <button class="btn-med btn-cancel" type="button" (click)="navigate('')">
                    <p>
                      {{ 'BUTTON.cancel' | translate }}
                      <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </p>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-6 ">
            <div class="btn-wrapper-right">
              <div class="row justify-content-end">
                <div class="col-md-10">

                  <button class="btn-med btn-confirm-login btn" type="submit" (click)="checkpage('complete')" [disabled]="loading">
                    <p>{{ 'BUTTON.confirm' | translate }}
                      <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </p>
                  </button>
                </div>
              </div>

            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<div class="modal fade modal-custom" tabindex="-1" role="dialog" id="message" style="z-index: 9999;">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">{{ 'Modal.notifications' | translate }}</h4>
      </div>
      <div class="modal-body" id="content-scroll-1">
        <h3>{{ message }}</h3>
      </div>
      <div class="modal-footer" style="display: block;">
        <div class="row justify-content-end">
          <div class="col-sm-6">
            <button class="btn-med btn-primary" data-dismiss="modal">
              <p style="margin-top: 7px;">{{ 'BUTTON.ok' | translate }}
                <i class="fa fa-angle-right" aria-hidden="true"></i>
              </p>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>